<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SRP TechStop — Slotting Dashboard</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}" />
</head>

<body>
  <div class="wrap">
    <!-- Category chips -->
    <div class="bar" id="categoryBar" aria-label="Slot Categories">
      <div class="chip" data-category="elitebooks" title="Slots 1–36">Slots 1–36: Elitebooks</div>
      <div class="chip" data-category="zbooks" title="Slots 37–56">Slots 37–56: ZBooks</div>
      <div class="chip" data-category="toughbooks" title="Slots 57–61">Slots 57–61: Toughbooks</div>
      <div class="chip" data-category="repaired" title="Slots 62–71">Slots 62–71: Repaired</div>
      <div class="chip" data-category="desktops" title="Slot 72">Slot 72: Desktops</div>
      <div class="chip" data-category="phones" title="Slots 100–121">Slots 100+: Phones</div>
    </div>

    <!-- Headline stats -->
    <div class="stats">
      <div class="stat">
        <div class="label">Total Devices</div>
        <div class="value" id="totalDevices">0</div>
      </div>
      <div class="kpi-row">
        <div class="kpi slotted">
          <div class="k">Slotted</div>
          <div class="v" id="kpiSlotted">0</div>
        </div>
        <div class="kpi unslotted">
          <div class="k">Unslotted</div>
          <div class="v" id="kpiUnslotted">0</div>
        </div>
      </div>
    </div>

    <!-- Filters -->
    <div class="filters" role="toolbar" aria-label="Filters">
      <button class="btn" id="filterComputer">Computer</button>
      <button class="btn" id="filterIncident">Incident</button>
      <button class="btn" id="filterPhone">Phone</button>
      <button class="btn clear" id="clearFilters">Clear Filters</button>
      <button class="btn" id="refreshData">Refresh</button>
    </div>

    <!-- Table -->
    <div class="table-wrap">
      <table aria-label="Slotted devices table">
        <thead>
          <tr>
            <th class="col-user">User</th>
            <th>Slot</th>
            <th>Ticket</th>
            <th class="col-ucd">UCD</th>
            <th>Config. Item</th>
            <th>Notify</th>
          </tr>
        </thead>
        <tbody id="deviceRows">
          <!-- Rows dynamically injected here -->
        </tbody>
      </table>
    </div>

    <p class="footer-note">
      Tip: Use <code>SRPSlotting.addDeviceRow({...})</code> to append rows. The dashboard will auto‑recount totals and
      apply current filters.
    </p>
  </div>
  <script>
    window.__INITIAL_DATA__ = {{ data | tojson }};
  </script>
  <script src="{{ url_for('static', filename='js/home.js') }}"></script>
</body>

</html>